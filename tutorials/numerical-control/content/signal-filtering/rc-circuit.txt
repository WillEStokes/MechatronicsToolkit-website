<p>An RC circuit is a simple and effective way to implement a low pass filter. It consists of a resistor (R) and a capacitor (C) connected in series, as shown in the following schematic:</p>

<div class="image-centre"><img src="./content/signal-filtering/capacitor-pdivide.png"></div>

<p><b>Cutoff Frequency</b></p>

<p>The cutoff frequency of an RC circuit is defined as the frequency at which the output voltage is reduced to 70.7% of its maximum value. The cutoff frequency can be calculated using the following formula:</p>

<p>
  $$f_c = \frac{1}{2\pi RC}$$
</p>

<p>Where \(f_c\) is the cutoff frequency in hertz, \(R\) is the resistance in ohms, and \(C\) is the capacitance in farads.</p>

<p>It is important to note that the cutoff frequency is a critical design parameter in low pass filters, as it determines the frequency at which the output voltage starts to roll off. In other words, it determines the transition between the passband and the stopband of the filter.</p>

<p>In a practical implementation, the cutoff frequency is often adjusted by adjusting the resistance and capacitance values, as well as other circuit elements. By carefully choosing the values of these components, we can design low pass filters that meet our specific requirements for filtering and signal processing.</p>

<p><b>Phase Shift, Output Voltage and Gain</b></p>

<p>We demonstrated the derivation of the expression for the <a href="\tutorials\theory\impedance.html#capacitor">impedance of a capacitor</a> in our tutorial on impedance:</p>

<p>$$Z_C = X_C = \frac{1}{j\omega C}$$</p>

<p>The impedance in a capacitor is pure reactance, \(X_C\). Impedance is a complex quantity and is a measure of the total opposition to the flow of current in an electrical circuit. The magnitude of impedance represents the magnitude of opposition to the flow of AC current, while the phase angle represents the phase shift between the voltage and current in the circuit. Using the same trigonometric method we used to calculate <a href = "/tutorials/theory/eulers-formula.html#mag-and-phase"> magnitude and phase<a>, the total impedance in our circuit can be expressed as:</p>

<p>$$Z = \sqrt{R^2 + X_C^2}$$</p>

<p>Likewise we can find the phase shift:</p>

<p>$$\phi = \arctan(\frac{X_C}{R})$$</p>

<p>In both these expressions, impedance from the resistor, \(R\), is the component of impedance in the real plane and the reactance of our capacitor, \(X_C\), is the impedance in the imaginary plane. Note that for an RC circuit, phase shift is inversely proportional to frequency, therefore as the frequency of the signal increases the phase shift decreases.</p>

<p>Considering the following circuit containing two resistors in series in a potential divide, we can calculate the output voltage, \(V_o\), in relation to the voltage magnitude, \(V_m\), at the input.</p>

<div class="image-centre"><img src="./content/signal-filtering/resistor-pdivide.png"></div>

<p>In this circuit, using Ohm's law the voltage potential difference across \(R_2\), can be expressed as:</p>

<p>
$$V_o = V_m * \frac{R_2}{R_T}$$
</p>

<p>Where:</p>

<p>
$$R_T = R_1 + R_2$$
</p>

<p>Using the same approach, we can express the output voltage in our circuit as a relationship between the impedance of the capacitor, and the total impedance of the circuit:</p>

<p>$$V_o = V_m * \frac{X_C}{Z}$$</p>

<p>This equation shows that the output voltage is proportional to the input voltage, but it is reduced in magnitude by the factor \(\frac{X_C}{Z}\), which represents the ratio of the capacitive reactance to the total impedance.</p>

<p>The gain of any filter is generally expressed in Decibels and is a function of the output value divided by its corresponding input value:</p>

<p>$$Gain = 20 * log \frac{V_o}{V_m}$$</p>

<p>For an RC circuit, gain is also inversely proportional to frequency, therefore as the frequency of the signal increases, the gain decreases.</p>

<p><b>Worked example</b></p>

<p>Let's calculate the phase shift, output voltage and gain of an RC circuit with the following components:</p>

<ul>
    <li>A resistor with a resistance of \(4.7 \, k\Omega\)</li>
    <li>A capacitor with a capacitance of \(47 \, nF\)</li>
    <li>An AC voltage source with magnitude \(10 \, V\) and frequency \(10 \, kHz\)</li>
</ul>

<p>First, we calculate the capacitive reactance:</p>

<p>$$X_C = \frac{1}{j\omega C} = \frac{1}{j2\pi fC} = \frac{1}{j2\pi (10000)(47\times10^{-9})} = 338.6 \, \Omega$$</p>

<p>Next, we calculate the impedance:</p>

<p>$$Z = \sqrt{R^2 + X_C^2} = \sqrt{(4700)^2 + (338.6)^2} = 4712 \, \Omega$$</p>

<p>Now we can calculate the phase shift:</p>

<p>$$\phi = \arctan(\frac{X_C}{R}) = \arctan(\frac{338.6}{4700}) = 0.072 \, rad$$</p>

<p>Finally, we can calculate the output voltage and gain:</p>

<p>$$V_o = V_m * \frac{X_C}{Z} = 10 * \frac{338.6}{4712} = 0.719 \, V$$</p>

<p>$$Gain = 20 * log \frac{V_o}{V_m} = 20 * log \frac{0.719}{10} = -22.9 \, dB$$</p>

<p>So the output voltage has a magnitude of 0.072 V, a phase shift of 0.072 radians and a gain of -22.9 dB.</p>

<p><b>Frequency-Gain Plot</b></p>

<p>In this section, we will generate a frequency-gain plot of the Low Pass Filter using the user input values for \(R\), \(C\), and \(V\). This will give us a visual representation of the gain of the circuit as a function of frequency.</p>

<form>
    <div>
        <label for="R_RC">Resistance (\(k\Omega\)) value:</label>
        <input type="text" id="R_RC" name="R_RC" placeholder="5">
        <button type="button" onclick="incrementValue('R_RC', 1)">+</button>
        <button type="button" onclick="decrementValue('R_RC', 1)">-</button>
    </div>
    <div>
        <label for="C_RC">Capacitance (\(nF\)) value:</label>
        <input type="text" id="C_RC" name="C_RC" placeholder="50">
        <button type="button" onclick="incrementValue('C_RC', 10)">+</button>
        <button type="button" onclick="decrementValue('C_RC', 10)">-</button>
    </div>
    <div>
        <label for="V_RC">Input voltage (\(V\)) value:</label>
        <input type="text" id="V_RC" name="V_RC" placeholder="10">
        <button type="button" onclick="incrementValue('V_RC', 1)">+</button>
        <button type="button" onclick="decrementValue('V_RC', 1)">-</button>
    </div>
    <br>
    <button type="button" onclick="plotGain_RC()">Generate Plot</button>
</form>
<br>
<div id="gain-plot_rc"></div>
<br>
<label>Cutoff frequency \((hz)\):</label>
<input type="text" id="fc-output_rc" readonly>